{% extends "base.html" %}
{% block title %}Detalle del DÃ­a{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2>ðŸ“… Detalle de Caja â€” {{ fecha.strftime("%d/%m/%Y") }}</h2>

  <!-- Totales del dÃ­a -->
  <div class="card mt-3 shadow-sm">
    <div class="card-body">
      <h5 class="mb-3">ðŸ’° Resumen General</h5>
      <p><strong>ðŸ›’ Total Ventas:</strong> ${{ "%.2f"|format(total_ventas) }}</p>
      <p><strong>ðŸ’µ Entradas de Efectivo:</strong> ${{ "%.2f"|format(total_entradas) }}</p>
      <p><strong>ðŸ’¸ Salidas de Efectivo:</strong> ${{ "%.2f"|format(total_salidas) }}</p>
      <p><strong>ðŸ§¾ Gastos:</strong> ${{ "%.2f"|format(total_gastos) }}</p>
      <hr>
      <h5 class="fw-bold text-success">ðŸ’¼ Neto del DÃ­a: ${{ "%.2f"|format(neto) }}</h5>
    </div>
  </div>

  <!-- Ventas por producto -->
  <div class="card mt-4">
    <div class="card-body">
      <h5>ðŸ“¦ Ventas por Producto</h5>
      {% if detalle %}
      <div class="table-responsive mt-3">
        <table class="table table-bordered table-striped text-center align-middle">
          <thead class="table-dark">
            <tr>
              <th>Producto</th>
              <th>Cantidad Vendida</th>
              <th>Valor Total</th>
            </tr>
          </thead>
          <tbody>
            {% for d in detalle %}
            <tr>
              <td>{{ d.producto }}</td>
              <td>{{ d.vendidas }}</td>
              <td>${{ "%.2f"|format(d.valor) }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% else %}
      <div class="alert alert-info mt-3">No hay ventas registradas en esta fecha.</div>
      {% endif %}
    </div>
  </div>

  <!-- BotÃ³n volver -->
  <div class="mt-4 text-center">
    <a href="{{ url_for('liquidacion') }}" class="btn btn-secondary px-4 fw-bold">
      ðŸ”™ Volver a LiquidaciÃ³n
    </a>
  </div>
</div>
{% endblock %}
